<!DOCTYPE html>
<html lang="vi" 
      xmlns:th="http://www.thymeleaf.org" 
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main}">
<head>
    <title>Quản Trị - Tất Cả Tính Năng</title>
</head>
<body>
<div layout:fragment="content">
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav class="col-md-2 d-md-block bg-light sidebar">
                <div th:replace="~{admin/sidebar :: sidebar}"></div>
            </nav>

            <!-- Main content -->
            <main class="col-md-10 ms-sm-auto px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">
                        <i class="bi bi-shield-lock text-danger"></i> Quản Trị - Tất Cả Tính Năng
                    </h1>
                </div>

                <!-- Quick Stats -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <div class="card bg-primary text-white">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h4 class="card-title">Tổng Người Dùng</h4>
                                        <h2 class="mb-0">1,234</h2>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="bi bi-people fs-1"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card bg-success text-white">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h4 class="card-title">Câu Hỏi</h4>
                                        <h2 class="mb-0">5,678</h2>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="bi bi-question-circle fs-1"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card bg-warning text-white">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h4 class="card-title">Câu Trả Lời</h4>
                                        <h2 class="mb-0">12,345</h2>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="bi bi-chat-dots fs-1"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card bg-danger text-white">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h4 class="card-title">Báo Cáo</h4>
                                        <h2 class="mb-0">23</h2>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="bi bi-flag fs-1"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- All Admin Features -->
                <div class="row">
                    <!-- Quản Lý Người Dùng -->
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-primary text-white">
                                <h5 class="mb-0">
                                    <i class="bi bi-people"></i> Quản Lý Người Dùng
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="list-group list-group-flush">
                                    <a th:href="@{/admin/users}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-list-ul"></i> Xem Tất Cả Người Dùng
                                    </a>
                                    <a th:href="@{/admin/users/new}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-person-plus"></i> Tạo Người Dùng Mới
                                    </a>
                                    <a th:href="@{/admin/users/search}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-search"></i> Tìm Kiếm Người Dùng
                                    </a>
                                    <a th:href="@{/admin/users/banned}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-person-x"></i> Người Dùng Bị Khóa
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quản Lý Nội Dung -->
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-success text-white">
                                <h5 class="mb-0">
                                    <i class="bi bi-file-text"></i> Quản Lý Nội Dung
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="list-group list-group-flush">
                                    <a th:href="@{/admin/questions}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-question-circle"></i> Quản Lý Câu Hỏi
                                    </a>
                                    <a th:href="@{/admin/comments}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-chat-dots"></i> Quản Lý Bình Luận
                                    </a>
                                    <a th:href="@{/admin/categories}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-folder"></i> Quản Lý Chuyên Mục
                                    </a>
                                    <a th:href="@{/admin/tags}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-tags"></i> Quản Lý Thẻ
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Kiểm Duyệt -->
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-warning text-white">
                                <h5 class="mb-0">
                                    <i class="bi bi-shield-check"></i> Kiểm Duyệt
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="list-group list-group-flush">
                                    <a th:href="@{/admin/moderation/pending-questions}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-clock-history"></i> Câu Hỏi Chờ Duyệt
                                        <span class="badge bg-danger ms-2">5</span>
                                    </a>
                                    <a th:href="@{/admin/moderation/pending-comments}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-chat-square-text"></i> Bình Luận Chờ Duyệt
                                        <span class="badge bg-warning ms-2">12</span>
                                    </a>
                                    <a th:href="@{/admin/reports}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-flag"></i> Báo Cáo
                                        <span class="badge bg-danger ms-2">3</span>
                                    </a>
                                    <a th:href="@{/admin/moderation/flagged-content}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-exclamation-triangle"></i> Nội Dung Bị Gắn Cờ
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quản Lý Hệ Thống -->
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-info text-white">
                                <h5 class="mb-0">
                                    <i class="bi bi-gear"></i> Quản Lý Hệ Thống
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="list-group list-group-flush">
                                    <a th:href="@{/admin/system/settings}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-sliders"></i> Cài Đặt Hệ Thống
                                    </a>
                                    <a th:href="@{/admin/notifications/send}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-bell"></i> Gửi Thông Báo
                                    </a>
                                    <a th:href="@{/admin/activity-logs}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-list-ul"></i> Nhật Ký Hoạt Động
                                    </a>
                                    <a th:href="@{/admin/statistics}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-graph-up"></i> Thống Kê
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tính Năng Nâng Cao -->
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-dark text-white">
                                <h5 class="mb-0">
                                    <i class="bi bi-tools"></i> Tính Năng Nâng Cao
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="list-group list-group-flush">
                                    <a th:href="@{/admin/database/backup}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-download"></i> Sao Lưu Cơ Sở Dữ Liệu
                                    </a>
                                    <a th:href="@{/admin/database/restore}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-upload"></i> Phục Hồi Cơ Sở Dữ Liệu
                                    </a>
                                    <a th:href="@{/admin/security/logs}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-shield-lock"></i> Nhật Ký Bảo Mật
                                    </a>
                                    <a th:href="@{/admin/maintenance}" class="list-group-item list-group-item-action">
                                        <i class="bi bi-wrench"></i> Chế Độ Bảo Trì
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Thao Tác Nhanh -->
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-secondary text-white">
                                <h5 class="mb-0">
                                    <i class="bi bi-lightning"></i> Thao Tác Nhanh
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="d-grid gap-2">
                                    <button class="btn btn-outline-primary" onclick="sendSystemNotification()">
                                        <i class="bi bi-bell"></i> Gửi Thông Báo Hệ Thống
                                    </button>
                                    <button class="btn btn-outline-warning" onclick="clearCache()">
                                        <i class="bi bi-arrow-clockwise"></i> Xóa Bộ Nhớ Đệm
                                    </button>
                                    <button class="btn btn-outline-info" onclick="exportData()">
                                        <i class="bi bi-download"></i> Xuất Dữ Liệu
                                    </button>
                                    <button class="btn btn-outline-danger" onclick="emergencyMode()">
                                        <i class="bi bi-exclamation-triangle"></i> Chế Độ Khẩn Cấp
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Hoạt Động Gần Đây -->
                <div class="row mt-4">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">
                                    <i class="bi bi-clock-history"></i> Hoạt Động Gần Đây
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Thời Gian</th>
                                                <th>Người Dùng</th>
                                                <th>Hành Động</th>
                                                <th>Chi Tiết</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>2 phút trước</td>
                                                <td>admin</td>
                                                <td>Quản Lý Người Dùng</td>
                                                <td>Đã khóa người dùng "spammer123"</td>
                                            </tr>
                                            <tr>
                                                <td>5 phút trước</td>
                                                <td>admin</td>
                                                <td>Kiểm Duyệt Nội Dung</td>
                                                <td>Đã duyệt câu hỏi "How to fix SQL error?"</td>
                                            </tr>
                                            <tr>
                                                <td>10 phút trước</td>
                                                <td>admin</td>
                                                <td>Cài Đặt Hệ Thống</td>
                                                <td>Đã cập nhật chế độ bảo trì</td>
                                            </tr>
                                            <tr>
                                                <td>15 phút trước</td>
                                                <td>admin</td>
                                                <td>Thông Báo</td>
                                                <td>Đã gửi thông báo toàn hệ thống</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>

<script th:inline="javascript">
function sendSystemNotification() {
    alert('Tính năng gửi thông báo hệ thống - sẽ được triển khai');
}

function clearCache() {
    alert('Đã xóa bộ nhớ đệm thành công!');
}

function exportData() {
    alert('Tính năng xuất dữ liệu - sẽ được triển khai');
}

function emergencyMode() {
    if (confirm('Bạn có chắc chắn muốn bật chế độ khẩn cấp? Điều này sẽ hạn chế quyền truy cập vào trang web.')) {
        alert('Đã kích hoạt chế độ khẩn cấp!');
    }
}
</script>
</body>
</html>
